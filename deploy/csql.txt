CREATE KEYSPACE mydb WITH replication = {'class': 'SimpleStrategy', 'replication_factor': '1'};

CREATE TABLE mydb.nginx_log (
    id uuid ,
    namespace varchar,
    servername varchar,
    log varchar,
    primary key(id,namespace,servername));
    

CREATE TABLE mydb.nginx_base_log (
    id uuid ,
    namespace varchar,
    servername varchar,
    remoteaddr varchar,
    remoteuser varchar,
    timeLocal varchar,
    request varchar,
    status int,
    bodySize int,
    httpreferer varchar,
    httpuseragent varchar,
    httpxforwardedfor varchar,
    requestlength int,
    upstreamresponsetime double,
    upstreamaddr varchar,
    primary key(id,namespace,servername));
    
CREATE TABLE mydb.status_real_statics (
    id uuid ,
    namespace varchar,
    servername varchar,
    status int,
    start_time varchar,
    end_time varchar,
    num int,
    primary key(id,namespace,servername,status));
    
CREATE TABLE mydb.request_real_statics (
    id uuid ,
    namespace varchar,
    servername varchar,
    request varchar,
    start_time varchar,
    end_time varchar,
    num int,
    avg_time double,
    primary key(id,namespace,servername,request));
    
 CREATE TABLE mydb.request_bath_statics (
    id uuid ,
    namespace varchar,
    servername varchar,
    request varchar,
    num int,
    primary key(id,namespace,servername,request));